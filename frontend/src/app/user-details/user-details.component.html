<ng-container *ngIf="user$ | async let user">
    <div class="surface-card shadow-2 w-full md:w-9 my-5 mx-auto p-4 border-round">
        <h2 class="mb-0 text-xl">{{user.firstName}} {{user.lastName}}</h2>
        <div class="mt-1 mb-3 text-sm text-500">
            <pre class="mt-0">{{user.id}}</pre>
        </div>

        <div class="flex">
            <div class="flex-grow-1 mt-3 mb-1 text-sm uppercase text-500 font-medium">Personal Information</div>
            <div class="m-2">
                <p-button label="Edit"
                          icon="pi pi-pencil"
                          styleClass="p-button-outlined"
                          routerLink="/user/{{user.id}}/change-personal-info">
                </p-button>
            </div>
        </div>
        <ul class="list-none p-0 m-0">
            <li class="flex align-items-center py-3 px-2 flex-wrap surface-50">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">first name
                </div>
                <div class="text-900 w-8">{{user.firstName}}</div>
            </li>
            <li class="flex align-items-center py-3 px-2 flex-wrap">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">last name</div>
                <div class="text-900 w-8">{{user.lastName}}</div>
            </li>
            <li class="flex align-items-center py-3 px-2 flex-wrap surface-50">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">wiki name</div>
                <div class="text-900 w-8">{{user.wikiName}}</div>
            </li>
        </ul>

        <div class="flex">
            <div class="flex-grow-1 mt-3 mb-1 text-sm uppercase text-500 font-medium">Lock</div>
            <div class="m-2">
                <p-button label="Edit"
                          icon="pi pi-pencil"
                          styleClass="p-button-outlined"
                          routerLink="/user/{{user.id}}/lock">
                </p-button>
            </div>
        </div>
        <ul class="list-none p-0 m-0">
            <li class="flex align-items-center py-3 px-2 flex-wrap surface-50">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">locked</div>
                <div class="text-900 w-8">
                    <i class="pi pi-lock mr-2" *ngIf="user.locked"></i>
                    <i class="pi pi-lock-open mr-2" *ngIf="!user.locked"></i>
                    {{user.locked}}
                </div>
            </li>
            <li class="flex align-items-center py-3 px-2 flex-wrap">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">notes</div>
                <div class="text-900 w-8">{{user.notes}}</div>
            </li>
        </ul>

        <div class="mt-3 mb-1 text-sm uppercase text-500 font-medium">Access</div>
        <ul class="list-none p-0 m-0">
            <li class="flex align-items-center py-3 px-2 flex-wrap surface-50">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">member
                    qualifications
                </div>
                <div class="text-900 w-8 flex align-items-center">
                    <div class="flex-grow-1">
                        <div *ngFor="let q of user.memberQualifications"
                             class="inline-block p-1 m-1 border-round text-300 text-sm"
                             [style.background-color]="q.colour">
                            {{q.name}}
                            <i class="pi pi-times cursor-pointer" (click)="removeMemberQualification(q.id)"></i>
                        </div>
                    </div>
                    <div>
                        <p-splitButton label="Add"
                                       styleClass="p-button-outlined"
                                       [model]="memberQualificationItems">
                        </p-splitButton>
                    </div>
                </div>
            </li>
            <li class="flex align-items-center py-3 px-2 flex-wrap">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">
                    instructor qualifications
                </div>
                <div class="text-900 w-8 flex align-items-center">
                    <div class="flex-grow-1">
                        <div *ngFor="let q of user.instructorQualifications"
                             class="inline-block p-1 m-1 border-round text-300 text-sm"
                             [style.background-color]="q.colour">
                            {{q.name}}
                            <i class="pi pi-times cursor-pointer" (click)="removeInstructorQualification(q.id)"></i>
                        </div>
                    </div>
                    <div>
                        <p-splitButton label="Add"
                                       styleClass="p-button-outlined"
                                       [model]="instructorQualificationItems">
                        </p-splitButton>
                    </div>
                </div>
            </li>
            <li class="flex align-items-center py-3 px-2 flex-wrap surface-50">
                <div class="text-500 w-4 max-w-20rem font-medium overflow-hidden text-overflow-ellipsis">admin</div>
                <div class="text-900 w-8">
                    <i *ngIf="user.isAdmin" class="pi pi-shield mr-2"></i>
                    {{user.isAdmin}}
                </div>
            </li>
        </ul>
    </div>
</ng-container>
